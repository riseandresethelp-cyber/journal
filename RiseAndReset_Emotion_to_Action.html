<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Rise & Reset Journal â€” Emotion to Action</title>
<style>
  :root{ --purple:#6A0DAD; --border:#d8c8f0; }
  *{box-sizing:border-box}
  body{margin:0;background:#fff;color:#1f1f1f;font:16px/1.45 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  header{padding:20px 16px;text-align:center;border-bottom:2px solid var(--border);background:linear-gradient(180deg,#fff,#faf7ff)}
  h1{margin:.2rem 0;font-size:1.5rem;color:var(--purple)}
  .sub{color:#444}
  main{max-width:900px;margin:24px auto;padding:0 16px}
  .card{background:#fff;border:1px solid var(--border);border-radius:14px;box-shadow:0 3px 14px rgba(0,0,0,.04);padding:18px;margin:14px 0}
  label{font-weight:600;color:#3b2a57}
  input[type="text"], input[type="date"], textarea, select{width:100%;padding:10px 12px;border:1px solid var(--border);border-radius:10px;background:#fff;outline:none}
  textarea{min-height:110px;resize:vertical}
  .grid-2{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .btns{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}
  button{border:1px solid var(--purple);background:var(--purple);color:#fff;padding:10px 14px;border-radius:999px;cursor:pointer}
  button.ghost{background:#fff;color:var(--purple)}
  footer{max-width:900px;margin:24px auto 60px;padding:0 16px;color:#555;text-align:center}
  .muted{font-size:.9rem;color:#666}
  @media (max-width:640px){ .grid-2{grid-template-columns:1fr} }
  @media print { header, .btns { display:none } .card{break-inside:avoid} }
</style>
</head>
<body>
<header>
  <h1>ðŸŒ¿ Rise & Reset</h1>
  <div class="sub">Emotion â†’ Insight â†’ Action</div>
</header>

<main>
  <div class="card grid-2">
    <div>
      <label for="jdate">Date</label>
      <input id="jdate" type="date">
    </div>
    <div>
      <label for="context">Context</label>
      <input id="context" type="text" placeholder="Where, with whom, what just happened?">
    </div>
  </div>

  <div class="card">
    <label for="emotion">Primary Emotion</label>
    <input id="emotion" type="text" placeholder="e.g., anxious, drained, hopeful">
    <div class="grid-2" style="margin-top:12px">
      <div>
        <label for="intensity">Intensity (1â€“10)</label>
        <input id="intensity" type="text" placeholder="e.g., 6/10">
      </div>
      <div>
        <label for="body">Body Sensations</label>
        <input id="body" type="text" placeholder="e.g., tight chest, racing thoughts">
      </div>
    </div>
  </div>

  <div class="card">
    <label for="thoughts">Noticing Thoughts</label>
    <textarea id="thoughts" placeholder="Write stream-of-consciousness. No judgment."></textarea>
  </div>

  <div class="card">
    <label for="reframe">Reframe / Self-talk</label>
    <textarea id="reframe" placeholder="What would compassionate, grounded you say?"></textarea>
  </div>

  <div class="card">
    <label for="action">Small Next Action</label>
    <textarea id="action" placeholder="One doable step within 5â€“15 minutes. Be specific."></textarea>
    <div class="btns">
      <button id="save">Save</button>
      <button class="ghost" id="export">Export JSON</button>
      <button class="ghost" id="print">Print</button>
      <button class="ghost" id="clear">Clear</button>
    </div>
    <div class="muted" id="status"></div>
  </div>
</main>

<footer class="muted">Data saves privately to your device (localStorage). Export or print anytime.</footer>

<script>
const fields=["jdate","context","emotion","intensity","body","thoughts","reframe","action"];
const KEY="rr_emotion_to_action_v1";
function load(){try{const d=JSON.parse(localStorage.getItem(KEY)||"{}");fields.forEach(id=>{if(d[id])document.getElementById(id).value=d[id];});}catch(e){}}
function collect(){const d={};fields.forEach(id=>d[id]=document.getElementById(id).value);return d;}
function save(manual=false){localStorage.setItem(KEY,JSON.stringify(collect()));document.getElementById("status").textContent=manual?"Saved.":"Autosaved.";}
document.getElementById("save").onclick=()=>save(true);
document.getElementById("export").onclick=()=>{const blob=new Blob([JSON.stringify(collect(),null,2)],{type:"application/json"});const a=document.createElement("a");a.href=URL.createObjectURL(blob);a.download="RiseAndReset_EmotionToAction.json";a.click();};
document.getElementById("print").onclick=()=>window.print();
document.getElementById("clear").onclick=()=>{if(confirm("Clear all fields? This only clears this deviceâ€™s local copy.")){fields.forEach(id=>document.getElementById(id).value="");localStorage.removeItem(KEY);document.getElementById("status").textContent="Cleared."}};
fields.forEach(id=>document.getElementById(id).addEventListener("input",()=>save(false)));
load();
</script>
</body>
</html>
